{% extends 'base.html' %}

{% block title %}Employee Details{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold mb-4">Employee Details</h1>
<div class="border p-4 rounded bg-white shadow-md">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
            <p><strong>Employee ID:</strong> {{ employee.emp_id }}</p>
            <p><strong>Name:</strong> {{ employee.first_name }} {{ employee.last_name }}</p>
            <p><strong>Role:</strong> {{ employee.role|default:'N/A' }}</p>
            <p><strong>Designation:</strong> {{ employee.designation|default:'N/A' }}</p>
            <p><strong>Reporting Manager:</strong> {{ employee.reporting_manager.data.name|default:'None' }}</p>
        </div>
        <div>
            <h2 class="text-lg font-semibold mb-2">Custom Details</h2>
            {% if employee.data %}
                {% for key, value in employee.data.items %}
                    {% if key != 'name' %}
                        <p><strong>{{ key|title }}:</strong> {{ value|default:'N/A' }}</p>
                    {% endif %}
                {% endfor %}
            {% else %}
                <p>No custom details available.</p>
            {% endif %}
        </div>
    </div>
    <div class="mt-4">
        <p><strong>Created By:</strong> {{ employee.created_by.username|default:'N/A' }}</p>
        <p><strong>Created At:</strong> {{ employee.created_at|date:'F d, Y H:i' }}</p>
        <p><strong>Updated At:</strong> {{ employee.updated_at|date:'F d, Y H:i' }}</p>
    </div>

    <div class="mt-6 space-x-2">
        <a href="{% url 'employee_edit' employee.pk %}" class="submit-btn bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Edit</a>
        <a href="{% url 'employee_list' %}" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">Back to List</a>
    </div>
</div>
{% endblock %}